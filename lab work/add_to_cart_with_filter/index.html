<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add to cart</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <div class="row ">
            <div class="header d-flex">
                <h1 class="text-center w-100">Add To Cart</h1>
                <h1 class="">
                    <a href="cart.html">Cart</a>
                </h1>
            </div>

            <div class="row products" id="products">

            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

    <script>

        let data = [
            {
                id: 1,
                name: "White-1",
                image: 'images/white-1.jpg',
                price: 400,
                qty: 1
            },
            {
                id: 2,
                name: "White-2",
                image: 'images/white-2.jpg',
                price: 500,
                qty: 1
            },
            {
                id: 3,
                name: "White-3",
                image: 'images/white-3.jpg',
                price: 200,
                qty: 1
            },
            {
                id: 4,
                name: "Orange-1",
                image: 'images/Orange-1.jpg',
                price: 700,
                qty: 1
            },
            {
                id: 5,
                name: "beige shirt",
                image: 'images/beige.jpg',
                price: 800,
                qty: 1
            },
            {
                id: 6,
                name: "light-blue shirt",
                image: 'images/light-blue.jpg',
                price: 1000,
                qty: 1
            }
        ];

        let tbl = "";
        data.map((val) => {
            tbl += `
                    <div class="col-md-3">
                    <div class="card m-1">
                    <img src="${val.image}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">${val.name}</h5>
                        <h6 class="card-text">Price : ${val.price}</h6>
                        <a href="#" onclick="addtocart(${val.id})" class="btn btn-primary">Add To cart</a>
                    </div>
                </div>
            </div>
            `
        });
        document.getElementById('products').innerHTML = tbl;

        const addtocart = (id) => {
            let carts = JSON.parse(localStorage.getItem('carts')) || [];

            let exist = carts.find((val) => val.id == id);

            if (exist) {
                alert("Alredy exist in cart");
                return val;
            }
            let single = data.find((val) => val.id == id);

            carts.push(single);
            localStorage.setItem('carts', JSON.stringify(carts));
            alert("added")

        }


    </script>
</body>

</html>